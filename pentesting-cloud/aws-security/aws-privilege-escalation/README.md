# AWS - Privilege Escalation

<details>

<summary><strong>Support HackTricks and get benefits!</strong></summary>

Do you work in a **cybersecurity company**? Do you want to see your **company advertised in HackTricks**? or do you want to have access the **latest version of the PEASS or download HackTricks in PDF**? Check the [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!

Discover [**The PEASS Family**](https://opensea.io/collection/the-peass-family), our collection of exclusive [**NFTs**](https://opensea.io/collection/the-peass-family)

Get the [**official PEASS & HackTricks swag**](https://peass.creator-spring.com)

**Join the** [**üí¨**](https://emojipedia.org/speech-balloon/) [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** me on **Twitter** [**üê¶**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/carlospolopm)**.**

**Share your hacking tricks submitting PRs to the** [**hacktricks github repo**](https://github.com/carlospolop/hacktricks)**.**

</details>

## AWS Privilege Escalation

The way to escalate your privileges in AWS is to have enough permissions to be able to, somehow, access other roles/users/groups privileges. Chaining escalations until you have admin access over the organization.

{% hint style="warning" %}
AWS has **hundreds** (if not thousands) of **permissions** that an entity can be granted. In this book you can find **all the permissions that I know** that you can abuse to **escalate privileges**, but if you **know some path** not mentioned here, **please share it**.
{% endhint %}

{% hint style="danger" %}
If an IAM policy has `"Effect": "Allow"` and `"NotAction": "Someaction"` indicating a **resource**... that means that the **allowed principal** has **permission to do ANYTHING but that specified action**.\
So remember that this is another way to **grant privileged permissions** to a principal.
{% endhint %}

You can find all the **privesc paths divided by services**:

* [**Apigateway Privesc**](aws-apigateway-privesc.md)****
* ****[**Codebuild Privesc**](aws-codebuild-privesc.md)****
* ****[**Codepipeline Privesc**](aws-codepipeline-privesc.md)****
* ****[**Codestar Privesc**](aws-codestar-privesc/)****
* ****[**Cloudformation Privesc**](aws-cloudformation-privesc/)****
* ****[**Datapipeline Privesc**](aws-datapipeline-privesc.md)****
* ****[**EBS Privesc**](aws-ebs-privesc.md)****
* ****[**EC2 Privesc**](aws-ec2-privesc.md)****
* ****[**ECR Privesc**](aws-ecr-privesc.md)****
* ****[**ECS Privesc**](aws-ecs-privesc.md)****
* ****[**Glue Privesc**](aws-glue-privesc.md)****
* ****[**IAM Privesc**](aws-iam-privesc.md)****
* ****[**Lambda Privesc**](aws-lambda-privesc.md)****
* ****[**Lightsail Privesc**](aws-lightsail-privesc.md)****
* ****[**S3 Privesc**](aws-s3-privesc.md)****
* ****[**Sagemaker Privesc**](aws-sagemaker-privesc.md)****
* ****[**SSM Privesc**](aws-ssm-privesc.md)****
* ****[**STS Privesc**](aws-sts-privesc.md)****
* ****[**Misc (Other Techniques) Privesc**](aws-misc-privesc/)****

## Tools

* [https://github.com/RhinoSecurityLabs/Security-Research/blob/master/tools/aws-pentest-tools/aws\_escalate.py](https://github.com/RhinoSecurityLabs/Security-Research/blob/master/tools/aws-pentest-tools/aws\_escalate.py)
* [Pacu](https://github.com/RhinoSecurityLabs/pacu)

## References

* [https://rhinosecuritylabs.com/aws/aws-privilege-escalation-methods-mitigation-part-2/](https://rhinosecuritylabs.com/aws/aws-privilege-escalation-methods-mitigation-part-2/)
* [https://rhinosecuritylabs.com/aws/aws-privilege-escalation-methods-mitigation/](https://rhinosecuritylabs.com/aws/aws-privilege-escalation-methods-mitigation/)
* [https://bishopfox.com/blog/privilege-escalation-in-aws](https://bishopfox.com/blog/privilege-escalation-in-aws)
* [https://hackingthe.cloud/aws/exploitation/local-priv-esc-user-data-s3/](https://hackingthe.cloud/aws/exploitation/local-priv-esc-user-data-s3/)

<details>

<summary><strong>Support HackTricks and get benefits!</strong></summary>

Do you work in a **cybersecurity company**? Do you want to see your **company advertised in HackTricks**? or do you want to have access the **latest version of the PEASS or download HackTricks in PDF**? Check the [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!

Discover [**The PEASS Family**](https://opensea.io/collection/the-peass-family), our collection of exclusive [**NFTs**](https://opensea.io/collection/the-peass-family)

Get the [**official PEASS & HackTricks swag**](https://peass.creator-spring.com)

**Join the** [**üí¨**](https://emojipedia.org/speech-balloon/) [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** me on **Twitter** [**üê¶**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/carlospolopm)**.**

**Share your hacking tricks submitting PRs to the** [**hacktricks github repo**](https://github.com/carlospolop/hacktricks)**.**

</details>
